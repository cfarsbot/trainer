{"remainingRequest":"/home/christopher/Projects/trainer/vue/node_modules/babel-loader/lib/index.js!/home/christopher/Projects/trainer/vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/christopher/Projects/trainer/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/christopher/Projects/trainer/vue/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/christopher/Projects/trainer/vue/src/views/Login.vue","mtime":1614615180608},{"path":"/home/christopher/Projects/trainer/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/christopher/Projects/trainer/vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/christopher/Projects/trainer/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/christopher/Projects/trainer/vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IEVtYWlsIGZyb20gJy4uL2NvbXBvbmVudHMvZm9ybXMvZW1haWwudnVlJzsKaW1wb3J0IFBhc3N3b3JkIGZyb20gJy4uL2NvbXBvbmVudHMvZm9ybXMvcGFzc3dvcmQudnVlJzsKaW1wb3J0IHVzZXJfc3RvcmUgZnJvbSAnLi4vc3RvcmUvdXNlcic7CmltcG9ydCBjb25maWcgZnJvbSAnLi4vLi4vY29uZmlnJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMb2dpbicsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHVzZXI6IHsKICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgZW1haWw6ICIiCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBFbWFpbDogRW1haWwsCiAgICBQYXNzd29yZDogUGFzc3dvcmQKICB9LAogIG1ldGhvZHM6IHsKICAgIGVtYWlsSGFuZGxlcjogZnVuY3Rpb24gZW1haWxIYW5kbGVyKGVtYWlsKSB7CiAgICAgIHRoaXMudXNlci5lbWFpbCA9IGVtYWlsOwogICAgfSwKICAgIHBhc3N3b3JkSGFuZGxlcjogZnVuY3Rpb24gcGFzc3dvcmRIYW5kbGVyKHBhc3N3b3JkKSB7CiAgICAgIC8vY29uc29sZS5sb2coYHBhc3N3b3JkSGFuZGVyICR7cGFzc3dvcmR9YCkKICAgICAgdGhpcy51c2VyLnBhc3N3b3JkID0gcGFzc3dvcmQ7CiAgICB9LAogICAgc2F2ZTogZnVuY3Rpb24gc2F2ZSgpIHsKICAgICAgdGhpcy5wb3N0X2xvZ2luKHRoaXMudXNlcik7CiAgICB9LAogICAgcG9zdF9sb2dpbjogZnVuY3Rpb24gcG9zdF9sb2dpbih1c2VyKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBpZiAoISh1c2VyLnBhc3N3b3JkID09ICIiIHx8IHVzZXIuZW1haWwgPT0gIiIpKSB7CiAgICAgICAgYXhpb3MucG9zdCgiIi5jb25jYXQoY29uZmlnLnByb3RvY29sLCAiOi8vIikuY29uY2F0KGNvbmZpZy5ob3N0bmFtZSwgIi9sb2dpbiIpLCB7CiAgICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicKICAgICAgICAgIH0sCiAgICAgICAgICB1c2VyOiB1c2VyCiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgdXNlcl9zdG9yZS5jb21taXQoJ3NhdmVVc2VyJywgcmVzcG9uc2UuZGF0YSk7CgogICAgICAgICAgaWYgKHJlc3BvbnNlLmRhdGEuZW1haWwgIT0gIiIpIHsKICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKCcvJyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmxvZygiRW1haWwgb2RlciBQYXNzd29ydCBpc3QgZmFsc2NoISIpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PSA0MDMpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coIlBhc3N3b3JkIG9kZXIgRW1haWwgZmFsc2NoIik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA,OAAA,KAAA,MAAA,OAAA;AAEA,OAAA,KAAA,MAAA,+BAAA;AACA,OAAA,QAAA,MAAA,kCAAA;AACA,OAAA,UAAA,MAAA,eAAA;AACA,OAAA,MAAA,MAAA,cAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAGA,EAAA,IAHA,kBAGA;AACA,WAAA;AACA,MAAA,IAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,KAAA,EAAA;AAFA;AADA,KAAA;AAMA,GAVA;AAWA,EAAA,UAAA,EAAA;AACA,IAAA,KAAA,EAAA,KADA;AAEA,IAAA,QAAA,EAAA;AAFA,GAXA;AAeA,EAAA,OAAA,EAAA;AAEA,IAAA,YAFA,wBAEA,KAFA,EAEA;AACA,WAAA,IAAA,CAAA,KAAA,GAAA,KAAA;AACA,KAJA;AAMA,IAAA,eANA,2BAMA,QANA,EAMA;AACA;AACA,WAAA,IAAA,CAAA,QAAA,GAAA,QAAA;AACA,KATA;AAWA,IAAA,IAXA,kBAWA;AACA,WAAA,UAAA,CAAA,KAAA,IAAA;AACA,KAbA;AAcA,IAAA,UAAA,EAAA,oBAAA,IAAA,EAAA;AAAA;;AAEA,UAAA,EAAA,IAAA,CAAA,QAAA,IAAA,EAAA,IAAA,IAAA,CAAA,KAAA,IAAA,EAAA,CAAA,EAAA;AACA,QAAA,KAAA,CAAA,IAAA,WAAA,MAAA,CAAA,QAAA,gBAAA,MAAA,CAAA,QAAA,aAAA;AACA,UAAA,OAAA,EAAA;AAAA,4BAAA;AAAA,WADA;AAEA,UAAA,IAAA,EAAA;AAFA,SAAA,EAIA,IAJA,CAIA,UAAA,QAAA,EAAA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,QAAA,CAAA,IAAA;AACA,UAAA,UAAA,CAAA,MAAA,CAAA,UAAA,EAAA,QAAA,CAAA,IAAA;;AACA,cAAA,QAAA,CAAA,IAAA,CAAA,KAAA,IAAA,EAAA,EAAA;AACA,YAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA,WAFA,MAEA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,iCAAA;AACA;AACA,SAZA,EAaA,KAbA,CAaA,UAAA,KAAA,EAAA;AACA,cAAA,KAAA,CAAA,QAAA,CAAA,MAAA,IAAA,GAAA,EAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,4BAAA;AACA,WAFA,MAEA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA;AACA,SAnBA;AAoBA;AACA;AAtCA;AAfA,CAAA","sourcesContent":["<template>\n\n    <v-row class=\"col-md-6 offsett-md-3\" style=\"margin-top: 30px\">\n        <v-col>\n            <v-card>\n                <Email @get-email=\"emailHandler\" />\n                <Password @get-password=\"passwordHandler\"/>\n            </v-card>\n            <v-row style=\"margin-top:30px;\">\n                <v-col class=\"col-md-2\">\n                    <v-btn @click=\"save\" color=\"primary\" >Login</v-btn>\n                </v-col>\n                <v-col class=\"col-md-10 \">\n                    <router-link to=\"/register\">\n                        <v-btn>Registrieren</v-btn>\n                    </router-link>\n                </v-col>\n            </v-row>\n        </v-col>\n   \n    </v-row>\n</template>\n\n<script>\nimport axios from 'axios';\n\nimport Email from '../components/forms/email.vue';\nimport Password from '../components/forms/password.vue';\nimport user_store from '../store/user'\nimport config from '../../config';\n\n export default {\n  name: 'Login',\n      \n  data (){ \n    return{\n      user:{\n        password: \"\",\n        email: \"\",\n        },   \n    }\n  },\n  components:{\n    Email,\n    Password\n  },\n  methods: {\n\n    emailHandler(email){\n      this.user.email = email;\n    },\n\n    passwordHandler(password){\n      //console.log(`passwordHander ${password}`)\n      this.user.password = password;\n    },\n\n    save(){\n      this.post_login(this.user);\n    },\n    post_login: function(user){\n    \n      if( !(user.password == \"\" || user.email == \"\")){\n        axios.post(`${config.protocol}://${config.hostname}/login`, {\n          headers: {'Content-Type': 'application/json'},\n            user\n          })\n          .then( response => {\n            console.log(response.data);\n            user_store.commit('saveUser', response.data)\n            if(response.data.email != \"\"){\n              this.$router.push('/')\n            }else{\n              console.log(\"Email oder Passwort ist falsch!\")\n            }\n          })\n          .catch(function (error) {\n            if(error.response.status == 403){\n              console.log(\"Password oder Email falsch\")\n            }else{\n              console.log(error)\n            }\n          });\n        }  \n      },\n  }\n}\n</script>\n"],"sourceRoot":"src/views"}]}