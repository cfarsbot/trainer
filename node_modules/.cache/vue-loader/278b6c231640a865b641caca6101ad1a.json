{"remainingRequest":"/home/christopher/Projects/trainer/vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/christopher/Projects/trainer/vue/src/views/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/christopher/Projects/trainer/vue/src/views/Login.vue","mtime":1614615180608},{"path":"/home/christopher/Projects/trainer/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/christopher/Projects/trainer/vue/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/christopher/Projects/trainer/vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/christopher/Projects/trainer/vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CgppbXBvcnQgRW1haWwgZnJvbSAnLi4vY29tcG9uZW50cy9mb3Jtcy9lbWFpbC52dWUnOwppbXBvcnQgUGFzc3dvcmQgZnJvbSAnLi4vY29tcG9uZW50cy9mb3Jtcy9wYXNzd29yZC52dWUnOwppbXBvcnQgdXNlcl9zdG9yZSBmcm9tICcuLi9zdG9yZS91c2VyJwppbXBvcnQgY29uZmlnIGZyb20gJy4uLy4uL2NvbmZpZyc7CgogZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdMb2dpbicsCiAgICAgIAogIGRhdGEgKCl7IAogICAgcmV0dXJuewogICAgICB1c2VyOnsKICAgICAgICBwYXNzd29yZDogIiIsCiAgICAgICAgZW1haWw6ICIiLAogICAgICAgIH0sICAgCiAgICB9CiAgfSwKICBjb21wb25lbnRzOnsKICAgIEVtYWlsLAogICAgUGFzc3dvcmQKICB9LAogIG1ldGhvZHM6IHsKCiAgICBlbWFpbEhhbmRsZXIoZW1haWwpewogICAgICB0aGlzLnVzZXIuZW1haWwgPSBlbWFpbDsKICAgIH0sCgogICAgcGFzc3dvcmRIYW5kbGVyKHBhc3N3b3JkKXsKICAgICAgLy9jb25zb2xlLmxvZyhgcGFzc3dvcmRIYW5kZXIgJHtwYXNzd29yZH1gKQogICAgICB0aGlzLnVzZXIucGFzc3dvcmQgPSBwYXNzd29yZDsKICAgIH0sCgogICAgc2F2ZSgpewogICAgICB0aGlzLnBvc3RfbG9naW4odGhpcy51c2VyKTsKICAgIH0sCiAgICBwb3N0X2xvZ2luOiBmdW5jdGlvbih1c2VyKXsKICAgIAogICAgICBpZiggISh1c2VyLnBhc3N3b3JkID09ICIiIHx8IHVzZXIuZW1haWwgPT0gIiIpKXsKICAgICAgICBheGlvcy5wb3N0KGAke2NvbmZpZy5wcm90b2NvbH06Ly8ke2NvbmZpZy5ob3N0bmFtZX0vbG9naW5gLCB7CiAgICAgICAgICBoZWFkZXJzOiB7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30sCiAgICAgICAgICAgIHVzZXIKICAgICAgICAgIH0pCiAgICAgICAgICAudGhlbiggcmVzcG9uc2UgPT4gewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgdXNlcl9zdG9yZS5jb21taXQoJ3NhdmVVc2VyJywgcmVzcG9uc2UuZGF0YSkKICAgICAgICAgICAgaWYocmVzcG9uc2UuZGF0YS5lbWFpbCAhPSAiIil7CiAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy8nKQogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICBjb25zb2xlLmxvZygiRW1haWwgb2RlciBQYXNzd29ydCBpc3QgZmFsc2NoISIpCiAgICAgICAgICAgIH0KICAgICAgICAgIH0pCiAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgICAgIGlmKGVycm9yLnJlc3BvbnNlLnN0YXR1cyA9PSA0MDMpewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKCJQYXNzd29yZCBvZGVyIEVtYWlsIGZhbHNjaCIpCiAgICAgICAgICAgIH1lbHNlewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9ICAKICAgICAgfSwKICB9Cn0K"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAwBA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n\n    <v-row class=\"col-md-6 offsett-md-3\" style=\"margin-top: 30px\">\n        <v-col>\n            <v-card>\n                <Email @get-email=\"emailHandler\" />\n                <Password @get-password=\"passwordHandler\"/>\n            </v-card>\n            <v-row style=\"margin-top:30px;\">\n                <v-col class=\"col-md-2\">\n                    <v-btn @click=\"save\" color=\"primary\" >Login</v-btn>\n                </v-col>\n                <v-col class=\"col-md-10 \">\n                    <router-link to=\"/register\">\n                        <v-btn>Registrieren</v-btn>\n                    </router-link>\n                </v-col>\n            </v-row>\n        </v-col>\n   \n    </v-row>\n</template>\n\n<script>\nimport axios from 'axios';\n\nimport Email from '../components/forms/email.vue';\nimport Password from '../components/forms/password.vue';\nimport user_store from '../store/user'\nimport config from '../../config';\n\n export default {\n  name: 'Login',\n      \n  data (){ \n    return{\n      user:{\n        password: \"\",\n        email: \"\",\n        },   \n    }\n  },\n  components:{\n    Email,\n    Password\n  },\n  methods: {\n\n    emailHandler(email){\n      this.user.email = email;\n    },\n\n    passwordHandler(password){\n      //console.log(`passwordHander ${password}`)\n      this.user.password = password;\n    },\n\n    save(){\n      this.post_login(this.user);\n    },\n    post_login: function(user){\n    \n      if( !(user.password == \"\" || user.email == \"\")){\n        axios.post(`${config.protocol}://${config.hostname}/login`, {\n          headers: {'Content-Type': 'application/json'},\n            user\n          })\n          .then( response => {\n            console.log(response.data);\n            user_store.commit('saveUser', response.data)\n            if(response.data.email != \"\"){\n              this.$router.push('/')\n            }else{\n              console.log(\"Email oder Passwort ist falsch!\")\n            }\n          })\n          .catch(function (error) {\n            if(error.response.status == 403){\n              console.log(\"Password oder Email falsch\")\n            }else{\n              console.log(error)\n            }\n          });\n        }  \n      },\n  }\n}\n</script>\n"]}]}